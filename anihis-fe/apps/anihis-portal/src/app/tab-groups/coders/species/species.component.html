<ng-container *transloco="let t">
  <section>
    <div class="add-new-species-wrapper">
      <button mat-raised-button (click)="openAddSpeciesDialog()">
        {{ t('Add new species') }}
      </button>
    </div>

    <div class="wrapper">
      <ng-container *ngIf="data$ | async as data">
        <div class="card">
          <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            <ng-container
              *ngFor="let column of displayedColumns"
              [matColumnDef]="column"
            >
              <th [class]="column" mat-header-cell *matHeaderCellDef>
                {{ column | nameColumn | titlecase | transloco }}
              </th>
              <td
                mat-cell
                *matCellDef="let element"
                [ngClass]="{
                  'action-column': column === 'actionSpecies'
                }"
              >
                <ng-container
                  *ngIf="column === 'actionSpecies'; else notActionColumn"
                >
                  <div class="action-icons">
                    <mat-icon
                      class="material-symbols-outlined cursor"
                      (click)="openAddBreedDialog(element)"
                      >add</mat-icon
                    >

                    <mat-icon
                      class="material-symbols-outlined cursor"
                      (click)="openEditBreedDialog(element)"
                      >edit</mat-icon
                    >
                  </div>
                </ng-container>
                <ng-template #notActionColumn>
                  {{ element[column] }}
                </ng-template>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
          </table>

          <mat-paginator
            #paginator
            [pageSizeOptions]="[4, 6, 8]"
            showFirstLastButtons
          ></mat-paginator>
        </div>
      </ng-container>
    </div>
  </section>
</ng-container>
